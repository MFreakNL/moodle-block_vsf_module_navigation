define(["jquery"],function(a){var b={add_classes:function(){var b=0;a(".block_vsf_module_navigation li").each(function(){var c=a(this);c.hasClass("child")?c.attr("data-group",b):c.hasClass("parent")&&(b++,c.attr("data-group",b))})},open_accordion:function(a){a.closest(".section-collapse").addClass("show").attr("id")},toggle_on_click_groups:function(){a(".block_vsf_module_navigation i.fa").on("click",function(c){c.preventDefault();var d=a(this).parent().parent().parent();if(d.hasClass("parent")||d.hasClass("child")){var e=d.data("group");b.open_accordion(d),b.toggle_group(e),b.toggle_arrow_icon(e)}})},start:function(){this.add_classes(),this.collapse_active(),this.toggle_on_click_groups()},collapse_active:function(){var c=a(".block_vsf_module_navigation li a.active").parent();if(c.hasClass("parent")||c.hasClass("child")){var d=c.data("group");b.open_accordion(c),this.toggle_group(d),this.toggle_arrow_icon(d)}},toggle_group:function(b){console.log("toggle_group",b);var c=a('.block_vsf_module_navigation li[data-group="'+b+'"]').not(".parent");c.last().hasClass("open")===!1?(console.log("open"),c.addClass("open").show()):(console.log("close"),c.removeClass("open").hide())},toggle_arrow_icon:function(b){var c=a('.block_vsf_module_navigation li[data-group="'+b+'"].parent'),d=c.find("i.fa-arrow-right");d.length?d.attr("class","fas fa fa-arrow-down"):c.find("i.fa-arrow-down").attr("class","fas fa fa-arrow-right")}};return{init:function(){console.log("vsf module navigation v1.0"),a(document).ready(function(a){a(".block_vsf_module_navigation").length&&b.start()})}}});